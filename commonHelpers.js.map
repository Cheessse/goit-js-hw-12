{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["import axios from 'axios';\n\nexport async function fetchArticles(query) {\n  const API_KEY = '42276910-5dbc0617c597b0712888fd711';\n  const BASE_URL = 'https://pixabay.com/';\n  const END_POINT = 'api/';\n  const url = `${BASE_URL}${END_POINT}`;\n\n  const params = {\n    key: API_KEY,\n    q: query,\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: true,\n  };\n\n  const res = axios.get(url, { params });\n  return res.data;\n}\n","function hitTemplate(hit) {\n  const {\n    comments,\n    downloads,\n    views,\n    likes,\n    webformatURL,\n    tags,\n    largeImageURL,\n  } = hit;\n\n  return `<li class=\"gallery-item\">\n             <a class=\"gallery-link\" href=\"${webformatURL}\">\n            <img class=\"gallery-image\" src=\"${largeImageURL}\" alt=\"${tags}\" />\n            </a>\n            <p><b>Likes: </b>${likes}</p>\n            <p><b>Views: </b>${views}</p>\n            <p><b>Comments: </b>${comments}</p>\n            <p><b>Downloads: </b>${downloads}</p>\n        </li>`;\n}\n\nexport function hitsTemplate(hits) {\n  return hits.map(hitTemplate).join('');\n}\n","import iziToast from 'izitoast';\nimport SimpleLightbox from 'simplelightbox';\n\nimport 'izitoast/dist/css/iziToast.min.css';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nimport { fetchArticles } from './js/pixabay-api.js';\nimport { hitsTemplate } from './js/render-functions.js';\n\nconst refs = {\n  formElem: document.querySelector('.form'),\n  gallery: document.querySelector('.gallery'),\n  loader: document.querySelector('.loader'),\n};\n\n// function showLoader() {\n//   loader.classList.remove('hidden');\n// }\n\n// function hideLoader() {\n//   loader.classList.add('hidden');\n// }\n\nrefs.formElem.addEventListener('submit', onFormSubmit);\n\nasync function onFormSubmit(e) {\n  e.preventDefault();\n\n  const query = e.target.elements.input.value.trim();\n\n  if (!query) {\n    iziToast.error({\n      message:\n        'Sorry, there are no images matching your search query. Please try again!',\n      position: 'topRight',\n    });\n    return;\n  }\n\n  const data = await fetchArticles(query);\n\n  refs.gallery.innerHTML = '';\n\n  renderMarkups(data.hits);\n\n  e.target.reset();\n}\n\nfunction renderMarkups(hits) {\n  const markup = hitsTemplate(hits);\n\n  refs.gallery.insertAdjacentHTML('beforeend', markup);\n  const lightbox = new SimpleLightbox('.gallery a', options);\n  lightbox.refresh();\n}\n\nconst options = {\n  captions: true,\n  captionType: 'attr',\n  captionSelector: 'img',\n  captionsData: 'alt',\n  captionPosition: 'bottom',\n  captionDelay: 250,\n};\n"],"names":["fetchArticles","query","API_KEY","url","params","axios","hitTemplate","hit","comments","downloads","views","likes","webformatURL","tags","largeImageURL","hitsTemplate","hits","refs","onFormSubmit","e","iziToast","data","renderMarkups","markup","SimpleLightbox","options"],"mappings":"owBAEO,eAAeA,EAAcC,EAAO,CACzC,MAAMC,EAAU,qCAGVC,EAAM,2BAENC,EAAS,CACb,IAAKF,EACL,EAAGD,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EAChB,EAGE,OADYI,EAAM,IAAIF,EAAK,CAAE,OAAAC,CAAM,CAAE,EAC1B,IACb,CClBA,SAASE,EAAYC,EAAK,CACxB,KAAM,CACJ,SAAAC,EACA,UAAAC,EACA,MAAAC,EACA,MAAAC,EACA,aAAAC,EACA,KAAAC,EACA,cAAAC,CACD,EAAGP,EAEJ,MAAO;AAAA,6CACoCK,CAAY;AAAA,8CACXE,CAAa,UAAUD,CAAI;AAAA;AAAA,+BAE1CF,CAAK;AAAA,+BACLD,CAAK;AAAA,kCACFF,CAAQ;AAAA,mCACPC,CAAS;AAAA,cAE5C,CAEO,SAASM,EAAaC,EAAM,CACjC,OAAOA,EAAK,IAAIV,CAAW,EAAE,KAAK,EAAE,CACtC,CCfA,MAAMW,EAAO,CACX,SAAU,SAAS,cAAc,OAAO,EACxC,QAAS,SAAS,cAAc,UAAU,EAC1C,OAAQ,SAAS,cAAc,SAAS,CAC1C,EAUAA,EAAK,SAAS,iBAAiB,SAAUC,CAAY,EAErD,eAAeA,EAAaC,EAAG,CAC7BA,EAAE,eAAc,EAEhB,MAAMlB,EAAQkB,EAAE,OAAO,SAAS,MAAM,MAAM,OAE5C,GAAI,CAAClB,EAAO,CACVmB,EAAS,MAAM,CACb,QACE,2EACF,SAAU,UAChB,CAAK,EACD,MACD,CAED,MAAMC,EAAO,MAAMrB,EAAcC,CAAK,EAEtCgB,EAAK,QAAQ,UAAY,GAEzBK,EAAcD,EAAK,IAAI,EAEvBF,EAAE,OAAO,OACX,CAEA,SAASG,EAAcN,EAAM,CAC3B,MAAMO,EAASR,EAAaC,CAAI,EAEhCC,EAAK,QAAQ,mBAAmB,YAAaM,CAAM,EAClC,IAAIC,EAAe,aAAcC,CAAO,EAChD,QAAO,CAClB,CAEA,MAAMA,EAAU,CACd,SAAU,GACV,YAAa,OACb,gBAAiB,MACjB,aAAc,MACd,gBAAiB,SACjB,aAAc,GAChB"}